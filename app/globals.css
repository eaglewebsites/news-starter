@import "tailwindcss";

/* --- Design tokens from your spec --- */
@theme {
  --color-ink: #1E1E1E;
  --color-white: #FFFFFF;
  --color-sky: #1E99D0;   /* brand blue for links/arrows */
  --color-teal: #00496A;
  --color-navy: #012A3D;

  --color-divider-more: #004293;
  --color-divider-nav: var(--color-navy);

  --font-sans: "Fira Sans", ui-sans-serif, system-ui, Arial, sans-serif;
  --font-alt: "Source Sans Pro", ui-sans-serif, system-ui, Arial, sans-serif;

  --text-fira-34-700: 34px;
  --text-fira-32-700: 32px;
  --text-fira-24-700: 24px;
  --text-fira-20-700: 20px;
  --text-fira-16-700: 16px;
  --text-fira-10-400: 10px;
  --text-source-36-700: 36px;

  --radius-2: 0.25rem;
  --radius-3: 0.375rem;
  --shadow-card: 0 1px 2px rgba(0,0,0,.05), 0 8px 20px rgba(0,0,0,.04);
}

/* === Brand link tokens (breadcrumbs etc.) === */
:root {
  /* Tweak these two to match your brand */
  --brand-link:        #0369a1; /* default: sky-700-ish */
  --brand-link-hover:  #075985; /* default: sky-800-ish */
}

/* Breadcrumb anchors use brand tokens and beat aggressive globals */
[aria-label="Breadcrumb"] a {
  color: var(--brand-link) !important;
  text-decoration: none;
}
[aria-label="Breadcrumb"] a:hover {
  color: var(--brand-link-hover) !important;
  text-decoration: underline;
}

/* (Optional) Dark mode overrides */
@media (prefers-color-scheme: dark) {
  :root {
    --brand-link:       #38bdf8;  /* sky-400-ish */
    --brand-link-hover: #0ea5e9;  /* sky-500-ish */
  }
}


/* Base */
html, body { color: var(--color-ink); background: var(--color-white); font-family: var(--font-sans); }

/* Section headings with custom 3px underlines */
.section-underline-more::after {
  content: ""; display: block; margin-top: 6px; height: 3px; width: 140px; background: var(--color-divider-more);
}
.section-underline-nav::after {
  content: ""; display: block; margin-top: 8px; height: 3px; width: 180px; background: var(--color-divider-nav);
}

/* Small chevron/arrow chip */
.arrow-chip { display: inline-flex; align-items: center; gap: 6px; color: var(--color-sky); font-weight: 700; }

/* font-family helper */
.font-alt { font-family: var(--font-alt); }

/* Optional exact widths */
.section-underline-more::after { width: 140px; }
.section-underline-nav::after  { width: 200px; }

/* Exact underline group */
.section-underline-quick::after,
.section-underline-local::after,
.section-underline-regional::after,
.section-underline-sports::after,
.section-underline-podcast::after {
  content: ""; display: block; margin-top: 8px; height: 3px; width: 595px; background: var(--color-divider-nav);
}
.section-underline-quick::after { width: 550px; }

/* Minimal fallback styles */
:root { color-scheme: light dark; }
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; font-family: system-ui, Arial, sans-serif; }
main { padding: 24px; }
.border { border: 1px solid #ddd; }
.rounded { border-radius: 8px; }
.p-2 { padding: 8px; }
.p-4 { padding: 16px; }
.mt-6 { margin-top: 24px; }
.text-center { text-align: center; }
.text-red-600 { color: #dc2626; }

.banner-paid  { background: #d1fae5; color: #065f46; }
.banner-free  { background: #fef3c7; color: #92400e; }

/* =========================
   BRAND LINK COLOR â€” BODY ONLY (default = blue)
   ========================= */
:where(main, [role="main"], article, .content, .page-content, .entry-content)
  :where(a):not(.no-brand-link):not([role="button"]):not(.btn) {
  color: #1E99D0;
}
:where(main, [role="main"], article, .content, .page-content, .entry-content)
  :where(a):visited:not(.no-brand-link):not([role="button"]):not(.btn) {
  color: #1E99D0;
}
:where(main, [role="main"], article, .content, .page-content, .entry-content)
  :where(a):hover:not(.no-brand-link):not([role="button"]):not(.btn) {
  text-decoration: underline;
}

/* Tailwind Typography (.prose) inside body content */
:where(main, [role="main"], article, .content, .page-content, .entry-content)
  :where(.prose) {
  --tw-prose-links: #1E99D0;
  --tw-prose-invert-links: #1E99D0;
}

/* =========================
   HEADER & FOOTER UNCHANGED (e.g., white nav & weather)
   ========================= */
header a, nav a, footer a,
.site-header a, .top-nav a, .main-nav a,
.site-footer a, .footer a,
.weather a, .weather-widget a {
  color: inherit !important; /* keep component-set colors (like white) */
}
header a, nav a, .site-header a, .top-nav a, .main-nav a {
  color: #ffffff !important;
}
header a:hover, nav a:hover, .site-header a:hover, .top-nav a:hover, .main-nav a:hover {
  color: #ffffff !important; text-decoration: underline;
}

/* =========================
   HOME PAGE: FORCE LINKS BLACK (wins with !important)
   ========================= */
.home-page :where(a):not(.no-brand-link):not([role="button"]):not(.btn) {
  color: var(--color-ink) !important;   /* black on home */
}
.home-page :where(a):hover:not(.no-brand-link):not([role="button"]):not(.btn) {
  text-decoration: underline;
}
/* Tailwind Typography links inside home */
.home-page :where(.prose) {
  --tw-prose-links: var(--color-ink) !important;
  --tw-prose-invert-links: var(--color-ink) !important;
}
/* Arrows stay blue on home */
.home-page .arrow-chip,
.home-page .arrow-chip a { color: var(--color-sky) !important; }
/* Ensure breadcrumb links are readable */
[aria-label="Breadcrumb"] a { color: var(--tw-prose-links, #0369a1) !important; }

/* Brand color token */
:root {
  /* tweak this once to rebrand site-wide */
  --brand-700: #075985; /* was Tailwind sky-800 */
}

/* Utility to use the brand token like a Tailwind class */
.text-brand-700 { color: var(--brand-700); }

/* Global article paragraph styling */
@layer base {
  /* Covers normal articles */
  article > p,
  /* Covers your story pages that use Tailwind Typography (.prose) */
  article.prose > p {
    font-size: 1.125rem;     /* 18px */
    color: #2d3748;          /* slate-ish gray */
    line-height: 2;          /* comfy reading */
    padding-top: 1.1rem;
    padding-bottom: 1.1rem;
  }

  /* Avoid extra space at the very start/end of the article */
  article > p:first-child,
  article.prose > p:first-child {
    padding-top: 0;
  }
  article > p:last-child,
  article.prose > p:last-child {
    padding-bottom: 0;
  }
}

